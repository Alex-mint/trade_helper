<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Interface</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- <nav>
        <span id="logo">Я верю в тебя!</span>
        <input type="text" placeholder="Pub-API">
        <input type="text" placeholder="Secret-API"> 
        
    </nav> -->
    <div id="myModal" class="modal">

        <!-- Контент модального окна -->
        <div class="modal-content">
            <span class="close" id="closeModalBtn">&times;</span>
            <p id="haveKey">Введите данные:</p>
            <input type="text" id="modalInput" class="modal-input" placeholder="Введите ключ">
            <button class="save-btn" id="saveBtn">Сохранить</button>
            <p><a href="https://min-api.cryptocompare.com/" >получить ключ</a></p>
        </div>
    
    </div>

    <div class="content">
        <div class="chart-container">

            <div class="inner-container">

                
                <div class="inner-item">
                    <div id="widget1" style="float:left;width:100%;height:50vh;">
                
                        <div class="tradingview-widget-container" style="height:100%; width:100%">
                            <div id="tradingview-widget1" class="tradingview-widget-container__widget" style="height:100%; width:100%"></div>
                        </div>
                    
                        <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
                        <script type="text/javascript">
                            function createTradingViewWidget(symbol) {
                                new TradingView.widget({
                                    "autosize": true,
                                    "symbol": symbol,
                                    "interval": "15",
                                    "timezone": "Etc/UTC",
                                    "theme": "dark",
                                    "style": "1",
                                    "locale": "ru",
                                    "hide_side_toolbar": false,
                                    "allow_symbol_change": true,
                                    "calendar": false,
                                    "container_id": "tradingview-widget1"
                                });
                            }
                    
                            function updateSymbol(symbol) {
                                /* var symbol = document.getElementById("symbolInput").value; */
                                if (symbol) {
                                    document.getElementById("tradingview-widget1").innerHTML = ""; // Очистка контейнера
                                    createTradingViewWidget(symbol);
                                }
                            }
                    
                            // Инициализация виджета с начальным символом
                            
            
                            var initialSymbol = "BINANCE:BTCUSDT.P";
                            createTradingViewWidget(initialSymbol);
                        </script>     
                    </div>
                </div> 
                <div class="inner-item">
                    <div id="widget2" style="float:left;width:100%;height:50vh;">
                
                        <div class="tradingview-widget-container" style="height:100%; width:100%">
                            <div id="tradingview-widget2" class="tradingview-widget-container__widget" style="height:100%; width:100%"></div>
                        </div>
                        <script type="text/javascript">
                            function createTradingViewWidget2(symbol) {
                                new TradingView.widget({
                                    "autosize": true,
                                    "symbol": symbol,
                                    "interval": "D",
                                    "timezone": "Etc/UTC",
                                    "theme": "dark",
                                    "style": "1",
                                    "locale": "ru",
                                    "hide_side_toolbar": false,
                                    "allow_symbol_change": true,
                                    "calendar": false,
                                    "container_id": "tradingview-widget2"
                                });
                            }
                    
                            function updateSymbol2(symbol) {
                                /* var symbol = document.getElementById("symbolInput").value; */
                                if (symbol) {
                                    document.getElementById("tradingview-widget2").innerHTML = ""; // Очистка контейнера
                                    createTradingViewWidget2(symbol);
                                }
                            }
                    
                            // Инициализация виджета с начальным символом
                            
            
                            var initialSymbol = "BINANCE:BTCUSDT.P";
                            createTradingViewWidget2(initialSymbol);
                        </script>     
                    </div>
                </div> 
                
            </div>

            
        </div>
        
        <div class="sidebar">
            <div class="text-box table-container">
                <div class="table-header">
                    
                    <div id="selectedCoint" class="cell selectCoint">BTCUSDT</div>
                    <div id="correl" class="cell">Кор 12h: 1</div>
                    <div class="cell cursor"><span id="refreshData">⚡</span><span id="openModalBtn">⚙️</span></div>
                    
                    
                    
                </div>
                <div class="table-content">
                    <table>
                        <thead>
                            <tr>
                                <th class="cursor" id="sortTicker">Пара ↕️</th>
                                <th class="cursor" id="sortDeals">Сделки ↕️</th>
                                <th class="cursor" id="sortTurnover">Оборот ↕️</th>
                                <th class="cursor" id="sortPriceChange">Цена % ↕️</th>
                            </tr>
                        </thead>
                        <tbody id="cryptoTable">
                            <!-- Данные будут загружены и вставлены сюда -->
                        </tbody>
                    </table>
                </div>
            </div>
            
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.3.1/math.min.js"></script>
    <script src="js/modal.js"></script>
    <script src="js/corelApp.js"></script>
    <script src="js/script.js"></script>
</body>
</html>